<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta lang="ja">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React基礎①</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/theme/black.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">

    <style>
        .reveal {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .reveal h1,
        .reveal h2,
        .reveal h3,
        .reveal h4 {
            color: #667eea;
            text-transform: none;
        }

        .reveal .pale {
            opacity: 0.9;
            font-size: 1em;
        }

        .reveal .slides section {
            text-align: left;
        }

        .reveal .title-slide {
            text-align: center;
        }

        .reveal .code-wrapper code {
            font-size: 1.3em;
        }

        .reveal .code-wrapper .code-medium {
            font-size: 1.19em;
        }

        .reveal .code-wrapper .code-medium-small {
            font-size: 1.1em;
        }

        .reveal .code-wrapper .code-small,
        .code-small {
            font-size: 0.9em;
        }

        .code-small .code-wrapper {
            width: 100%;
        }

        .reveal .comparison .hljs {
            max-height: 350px;
            min-height: unset;
            height: 100%;
        }

        ul>li,
        dl>dd {
            line-height: 2em;
        }

        .lifecycle {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 40px 0;
            padding: 20px;
            border-radius: 10px;
        }

        .lifecycle div {
            background: rgba(255, 255, 255, 0.1);
            flex: 1;
            text-align: center;
            padding: 10px;
            border-radius: 10px;
        }

        .lifecycle .arrow {
            background: none;
            font-size: 100px;
            color: #667eea;
            flex: 0;
        }

        .down-arrow {
            opacity: 0.7;
            display: flex;
            justify-content: center;
            font-size: 50px;
            flex: 0;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .js-side,
        .ts-side {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
        }

        .js-side h4 {
            color: #f39c12;
        }

        .ts-side h4 {
            color: #3498db;
        }

        .note {
            background: rgba(52, 152, 219, 0.2);
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning {
            background: rgba(231, 76, 60, 0.2);
            border-left: 4px solid #e74c3c;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .quiz {
            background: rgba(46, 204, 113, 0.1);
            border-left: 4px solid #2ecc71;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 10px;
        }

        .quiz-option {
            display: block;
            margin: 8px 0;
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .fragment.correct-answer.visible {
            border-left: 4px solid #2ecc71;
            background: rgba(46, 204, 113, 0.3);
        }

        .reveal pre code {
            max-height: 500px;
            font-size: 0.7em;
            line-height: 1.4;
        }

        .reveal code {
            color: #ff79c6;
        }

        .reveal .code-comment {
            color: #6272a4;
            font-style: italic;
        }

        .timer {
            position: absolute;
            top: -30px;
            right: 15px;
        }

        .comparison-table {
            font-size: 0.75em;
            border-collapse: collapse;
            width: 100%;
            margin: 1rem 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 0.6rem 0.4rem;
            text-align: center;
        }

        .comparison-table thead th {
            font-weight: bold;
        }

        .comparison-table .metric {
            font-weight: bold;
            text-align: left;
        }
    </style>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section class="title-slide">
                <h1>React基礎①</h1>
                <h2>Reactとは、JSX、コンポーネント、Propsの使い方</h2>
                <aside class="notes"></aside>
            </section>

            <section>
                <!-- What is React -->
                <section>
                    <h1>Reactとは？</h1>
                    <p class="intro-text"><strong>ユーザインターフェース構築のためのJavaScriptライブラリ</strong></p>

                    <ul>
                        <li>Meta（旧Facebook）が2013年にオープンソース化</li>
                        <li>コンポーネントベースのアーキテクチャ</li>
                        <li>仮想DOMによる効率的な更新</li>
                        <li>宣言的なプログラミングモデル</li>
                    </ul>

                    <div class="note">
                        「何を表示するか」を記述すれば、「どうやって更新するか」はReactが処理する
                    </div>
                </section>

                <!-- Why React was needed -->
                <section>
                    <h2>従来のDOM操作の問題点</h2>

                    <h3>手動DOM操作の課題</h3>
                    <ul>
                        <li>状態とUIの同期を手動で管理する必要</li>
                        <li>DOMの直接操作はバグの温床</li>
                        <li>アプリが大きくなると管理が困難</li>
                        <li>コードが複雑になりがち</li>
                    </ul>
                </section>
                <section>
                    <h2>コード比較</h2>
                    <div class="comparison">
                        <div class="comparison-item">
                            <h4>従来のJavaScript</h4>
                            <pre><code class="language-javascript code-small">const button = document.getElementById('btn');
const counter = document.getElementById('count');
let count = 0;

button.addEventListener('click', () => {
  count++;
  counter.textContent = count;
  // 他の場所でcountを使用している箇所も
  // 手動で更新する必要がある
});</code></pre>
                        </div>
                        <div class="comparison-item">
                            <h4>React</h4>
                            <pre><code class="language-jsx code-small">function Counter() {
  const [count, setCount] = useState(0);
  
  return (
    &lt;div&gt;
      &lt;span&gt;{count}&lt;/span&gt;
      &lt;button onClick={() => setCount(count + 1)}&gt;
        +1
      &lt;/button&gt;
    &lt;/div&gt;
  );
}</code></pre>
                        </div>
                    </div>
                </section>

                <!-- React's Approach -->
                <section>
                    <h2>Reactのアプローチ</h2>

                    <h3>宣言的UI</h3>
                    <p>「状態が変わったら全体を再描画」という発想の転換</p>

                    <ul>
                        <li><strong>状態管理の単純化</strong>：状態を変更するだけでUIが自動更新</li>
                        <li><strong>仮想DOM</strong>：メモリ上で差分を計算し、必要な部分だけ更新</li>
                        <li><strong>コンポーネント思考</strong>：UIを再利用可能な部品として構築</li>
                    </ul>

                    <div class="note">
                        従来の「どうやって更新するか」から「何を表示するか」への思考転換
                    </div>
                </section>

                <!-- SPA Introduction -->
                <section>
                    <h2>SPA【Single Page Application】とは？</h2>

                    <h3>従来のWebサイト【Multi Page Application】</h3>
                    <ul>
                        <li>ページ遷移のたびにサーバーから新しいHTMLを取得</li>
                        <li>画面全体がリロードされる</li>
                        <li>ページ遷移が遅い</li>
                    </ul>

                    <h3>SPA</h3>
                    <ul>
                        <li>初回ロード後、JavaScriptでページ遷移を制御</li>
                        <li>必要なデータのみAPIで取得</li>
                        <li>高速なページ遷移が可能</li>
                    </ul>
                </section>
                <section>
                    <h2>SPA【Single Page Application】とは？</h2>
                    <div class="comparison">
                        <div class="pros">
                            <h4>メリット</h4>
                            <ul>
                                <li>高速なページ遷移</li>
                                <li>アプリライクなUX</li>
                                <li>サーバー負荷軽減</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <h4>課題</h4>
                            <ul>
                                <li>初回ロードが重い</li>
                                <li>SEOが困難</li>
                                <li>JavaScriptが必須</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- The SPA Problem -->
                <section>
                    <h2>SPAの根本的な問題</h2>
                    <div class="warning">
                        <p><strong>純粋なSPAは多くの問題を抱えており現在は「呪われた」技術とされることも</strong></p>
                    </div>

                    <h3>主な問題点</h3>
                    <ul>
                        <li><strong>SEO</strong> : 検索エンジンがJavaScriptを実行しないと内容が見えない</li>
                        <li><strong>初回ロード</strong> : すべてのJavaScriptをダウンロードするまで何も表示されない</li>
                        <li><strong>パフォーマンス</strong> : バンドルが大きくなりがち</li>
                        <li><strong>複雑性</strong> : クライアントサイドでの状態管理が複雑</li>
                    </ul>
                </section>

                <!-- Slide 9: SPA Solutions -->
                <section>
                    <h2>現実的な解決策</h2>
                    <ul>
                        <li><strong>SSR【Server Side Rendering】</strong><br>サーバーでHTMLを生成</li>
                        <li><strong>SSG【Static Site Generation】</strong><br>ビルド時に静的HTMLを生成</li>
                        <li><strong>ISR【Incremental Static Regeneration】</strong><br>必要に応じて静的ページを再生成</li>
                    </ul>

                    <div class="note">
                        <p>これらの手法で純粋SPAの問題を解決（Next.js、React Router/Remix等のフレームワーク）</p>
                    </div>
                </section>

                <!-- Ecosystem Overview -->
                <section>
                    <h2>Reactエコシステム（参考）</h2>
                    <h3>フルスタックフレームワーク</h3>
                    <ul>
                        <li><strong>Next.js</strong>：SSR/SSG対応・本格的なWebアプリ開発</li>
                        <li><strong>React Router/Remix</strong>：フルスタック・Web標準重視</li>
                        <li><strong>Astro、Gatsby</strong>：静的サイト生成特化</li>
                    </ul>
                    <br><br>
                    <h3>ネイティブアプリ</h3>
                    <ul>
                        <li><strong>React Native</strong>：iOS・Androidアプリ開発</li>
                        <li><strong>Expo</strong>：React Nativeの開発環境</li>
                    </ul>
                    <div class="note">
                        本コースでは基本的なSPAから始めますが、実際のプロダクションでは上記のフレームワークを使用することが多い
                    </div>
                </section>

                <!-- React vs Others -->
                <section>
                    <h2>主要フレームワーク比較</h2>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th></th>
                                <th>React</th>
                                <th>Vue</th>
                                <th>Angular</th>
                                <th>Svelte</th>
                                <th>SolidJS</th>
                                <th>Preact</th>
                                <th>Lit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="metric">学習コスト</td>
                                <td>中</td>
                                <td>中</td>
                                <td>高</td>
                                <td>中</td>
                                <td>中</td>
                                <td>低</td>
                                <td>中</td>
                            </tr>
                            <tr>
                                <td class="metric">エコシステム</td>
                                <td>最大</td>
                                <td>大</td>
                                <td>大</td>
                                <td>小</td>
                                <td>小</td>
                                <td>中</td>
                                <td>小</td>
                            </tr>
                            <tr>
                                <td class="metric">TypeScript</td>
                                <td>オプション</td>
                                <td>オプション</td>
                                <td>標準</td>
                                <td>標準</td>
                                <td>標準</td>
                                <td>オプション</td>
                                <td>標準</td>
                            </tr>
                            <tr>
                                <td class="metric">バンドルサイズ</td>
                                <td>42KB</td>
                                <td>36KB</td>
                                <td>130KB</td>
                                <td>10KB</td>
                                <td>7KB</td>
                                <td>3KB</td>
                                <td>5KB</td>
                            </tr>
                            <tr>
                                <td class="metric">パフォーマンス</td>
                                <td>良</td>
                                <td>良</td>
                                <td>良</td>
                                <td>優秀</td>
                                <td>優秀</td>
                                <td>良</td>
                                <td>良</td>
                            </tr>
                            <tr>
                                <td class="metric">求人数</td>
                                <td>最多</td>
                                <td>多</td>
                                <td>多</td>
                                <td>少</td>
                                <td>極少</td>
                                <td>少</td>
                                <td>少</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="note">
                        <p><strong>結論</strong>：Reactは学習コストとエコシステムのバランスが良く、転職市場でも最も有利</p>
                    </div>
                </section>
            </section>

            <!-- Core Concepts -->
            <section>
                <section>
                    <h2>Reactの核となる概念</h2>
                    <dl>
                        <dt><strong>コンポーネント</strong></dt>
                        <dd>UIを独立した再利用可能な部品として作成</dd>

                        <dt><strong>JSX</strong></dt>
                        <dd>JavaScriptの中にHTMLライクな構文を書ける</dd>

                        <dt><strong>State（状態）</strong></dt>
                        <dd>コンポーネントが持つ変更可能なデータ</dd>

                        <dt><strong>Props</strong></dt>
                        <dd>親コンポーネントから子へ渡すデータ</dd>

                        <dt><strong>仮想DOM</strong></dt>
                        <dd>メモリ上でDOM操作を計算し、効率的に更新</dd>
                    </dl>
                </section>
            </section>

            <section>
                <section>
                    <h4>理解度チェック①</h4>
                    <div class="quiz">
                        <h3>どちらがエラーになる？</h3>
                        <pre><code class="language-typescript">let mysteryA: any = "梨花";
let mysteryB: unknown = "梨花";

mysteryA.toUpperCase(); // A
mysteryB.toUpperCase(); // B</code></pre>
                        <div class="quiz-options">
                            <div class="quiz-option">A) mysteryA.toUpperCase()</div>
                            <div class="quiz-option fragment custom correct-answer" data-fragment-index="1">B)
                                mysteryB.toUpperCase()</div>
                            <div class="quiz-option">C) 両方エラー</div>
                            <div class="quiz-option">D) 両方エラーなし</div>
                        </div>
                    </div>
                    <div class="fragment" data-fragment-index="1">
                        <div class="note">
                            <strong>答え:</strong> B) <code>unknown</code>は型ガードが必要。<code>any</code>は何でもOK（危険）
                        </div>
                    </div>
                </section>
            </section>

            <section>
                <!-- Practice -->
                <section>
                    <h1>TypeScript 実践演習</h1>
                    <h3>3つの課題 (各5-10分)</h3>
                    <p>今日学んだ内容を実際に使ってみよう！</p>
                    <div class="note"><a
                            href="https://github.com/cdefined/front-kaizen/tree/master/typescript-lessons/lesson_1/task.md">typescript-lessons/lesson_1/task.md</a>
                    </div>
                </section>

                <!-- Task 1 -->
                <section>
                    <div class="timer"></div>

                    <h2><span class="task-number">課題1</span> Union型とtype guard</h2>

                    <p><strong>関数 <code>processId</code> を作成してください</strong></p>
                    <ul>
                        <li>引数 <code>id</code> は <code>number</code> または <code>string</code> のいずれかです</li>
                        <li><code>number</code> の場合は <code>"ID: 123"</code>、<code>string</code> の場合は
                            <code>"CODE: ABC"</code> の形式で返す
                        </li>
                    </ul>

                    <pre><code class="typescript">// テスト
console.log(processId(123));    // "ID: 123"
console.log(processId("ABC"));  // "CODE: ABC"
                </code></pre>
                    <div class="note"><a
                            href="https://github.com/cdefined/front-kaizen/tree/master/typescript-lessons/lesson_1/task.md">typescript-lessons/lesson_1/task.md</a>
                    </div>
                </section>

                <!-- Task 1 Solution -->
                <section>
                    <h2><span class="task-number">課題1</span> 解答例</h2>
                    <p>型ガード　【type guard】を使うことができます</p>
                    <pre><code class="typescript">function processId(id: number | string): string {
    // typeof演算子を使って型を判定
    if (typeof id === "number") {
        return `ID: ${id}`;
    } else {
        return `CODE: ${id}`;
    }
}</code></pre>
                </section>
            </section>

            <section>
                <!-- Summary -->
                <section>
                    <h1>第3回まとめ</h1>

                    <h2>今日学んだこと</h2>
                    <ul>
                        <li><strong>TypeScript の基本:</strong> tsc コンパイラーと型システム</li>
                    </ul>
                </section>

                <!-- Homework -->
                <section>
                    <h1>宿題・実践課題</h1>

                    <h3>斬魄刀コレクション管理システム</h3>
                    <div class="note"><a
                            href="https://github.com/cdefined/front-kaizen/tree/master/typescript-lessons/lesson_1/homework"
                            target="_blank">typescript-lessons/lesson_1/homework</a></div>
                    <br>
                    <h3>実践での重要ポイント</h3>
                    <ul>
                        <li>型推論を信頼しつつ、関数の戻り値は明示的に書く</li>
                    </ul>
                </section>

                <!-- In next episode -->
                <section>
                    <h1>次回予告</h1>
                    <p><strong>React②:</strong> useState、イベント処理、フォーム</p>
                </section>
            </section>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/plugin/highlight/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/plugin/notes/notes.min.js"></script>
    <script src="../../scripts/reveal-timer-plugin.js"></script>

    <script>
        Reveal.initialize({
            hash: true,
            slideNumber: true,
            width: 1800,
            height: 900,
            margin: 0.1,
            transition: 'slide',
            transitionSpeed: 'fast',
            backgroundTransition: 'fade',
            plugins: [RevealHighlight, RevealNotes, RevealTimer],
            highlight: {
                escapeHTML: true
            }
        });

        // Quiz interaction
        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', function () {
                // Remove previous selections
                this.parentNode.querySelectorAll('.quiz-option').forEach(opt => {
                    opt.style.background = 'rgba(255,255,255,0.1)';
                });

                // Highlight selected option
                this.style.background = 'rgba(102, 126, 234, 0.5)';
            });
        });
    </script>
</body>

</html>